#### 组件概述

折叠面板组件用于创建可展开/折叠的内容区域，支持手风琴模式、自定义图标和多种交互方式。适用于FAQ、设置面板、内容分组等需要可折叠展示的场景。

---

### 配置项详解

#### 基础配置

|配置项|字段名|类型|说明|可选值|默认值|
|---|---|---|---|---|---|
|默认展开项|default-expanded-names|string[]|初始展开的面板name数组|-|-|
|手风琴模式|accordion|boolean|是否每次只展开一个面板|`true`/`false`|`false`|
|箭头位置|arrow-placement|string|展开图标的位置|`left`（左）  <br>`right`（右）|`left`|
|显示指令|display-directive|string|内容渲染方式|`if`（v-if）  <br>`show`（v-show）|`if`|

#### 折叠项配置

|配置项|字段名|类型|说明|必填|
|---|---|---|---|---|
|标识|name|string|面板唯一标识|是|
|标题|title|string|面板标题文字|是|
|自定义图标|arrow|slot|替换默认展开图标|否|
|头部|header|slot|自定义整个头部区域|否|
|头部附加|header-extra|slot|头部右侧附加内容|否|

#### 事件配置

|事件名|说明|回调参数|
|---|---|---|
|on-item-header-click|点击面板标题时触发|(name: string) => void|

---

### 使用示例

#### 基础折叠面板

1. 拖拽折叠面板组件到画布
2. 添加两个折叠项：
    
    - `name`: "panel1", `title`: "基本信息"
    - `name`: "panel2", `title`: "高级设置"
    
3. 效果：显示可展开/折叠的两个面板

#### 手风琴模式

1. 启用`手风琴模式`
2. 设置`默认展开项`为["panel1"]
3. 效果：同时只能展开一个面板

#### 自定义头部

1. 在折叠项的`header`插槽中添加：
    
    - 图标组件
    - 自定义标题样式
    
2. 效果：显示带图标的个性化头部

#### 右侧箭头

1. 设置`箭头位置`为`right`
2. 效果：展开图标显示在标题右侧

---

### 典型应用场景

#### FAQ页面

- 推荐配置：
    
    - `手风琴模式`：开启
    - `默认展开项`：空数组
    - 每个问题作为一个折叠项
    

#### 设置面板

- 推荐配置：
    
    - `显示指令`：show
    - `箭头位置`：left
    - 分组展示各类设置项
    

#### 内容目录

- 推荐配置：
    
    - 多级嵌套折叠面板
    - 自定义头部样式
    - 保持某些项默认展开
    

---

### 注意事项

1. ​**​唯一标识​**​：确保每个折叠项的`name`属性唯一
2. ​**​性能优化​**​：大量折叠项建议使用`show`指令
3. ​**​受控模式​**​：需要完全控制展开状态时使用`expanded-names`
4. ​**​手风琴模式​**​：开启后`default-expanded-names`应为单个值

---

### 疑难解答

​**​Q: 面板无法展开？​**​  
A: 请检查：

1. `name`是否设置且唯一
2. 是否同时使用了受控和非受控模式

​**​Q: 内容闪烁？​**​  
A: 尝试切换`显示指令`为`show`

​**​Q: 如何默认全部展开？​**​  
A: 设置`default-expanded-names`包含所有项的name

​**​Q: 如何添加动画？​**​  
A: 通过CSS自定义过渡效果：

```
.n-collapse-item__content-wrapper {
  transition: height 0.3s ease;
}
```

​**​Q: 如何修改箭头图标？​**​  
A: 使用`arrow`插槽替换默认图标：

```
<template #arrow="{ expanded }">
  <MyIcon :type="expanded ? 'up' : 'down'" />
</template>
```